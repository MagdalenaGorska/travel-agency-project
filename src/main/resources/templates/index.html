<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Strona domowa</title>
</head>
<body>
Strona domowa
<div sec:authorize="isAuthenticated()">
    Zawartość widoczna tylko dla użytkownika zalogowanego.
    <hr>
    Zalogowano jako: <strong sec:authentication="name"></strong>
    <hr>
    <a th:href="@{/tour/list}">List of tours</a>

    <div sec:authorize="hasRole('ROLE_ADMIN')">
        Widoczne tylko dla admina.
        <a th:href="@{/location/add}">Dodawanie lokacji</a>
        <a th:href="@{/location/list}">Lista lokacji</a>
    </div>
    <form method="post" th:action="@{/logout}">
        <input type="submit" value="Wyloguj">
    </form>
</div>
<div sec:authorize="isAnonymous()">
    Jesteś niezalogowany.
    <h1>Zaloguj się</h1>
    <form autocomplete="off" method="post" th:action="@{/}">
        <div>
            <label>
                Nazwa użytkownika:
                <input type="text" name="username">
            </label>
        </div>
        <div>
            <label>
                Hasło:
                <input type="password" name="password">
            </label>
        </div>
        <input type="submit" value="Zaloguj">
    </form>
    <hr>

    <h1>Zarejestruj się</h1>
    <form autocomplete="off" method="post" th:action="@{/user/register}">
        <div>
            <label>
                Nazwa użytkownika:
                <input type="text" name="username">
            </label>
        </div>
        <div>
            <label>
                Hasło:
                <input type="password" name="password">
            </label>
        </div>
        <input type="submit">
    </form>
    <hr>
</div>
</body>
</html>